<table class="govuk-table" *ngIf="!error">
    <caption class="govuk-table__caption govuk-heading-m">Last {{ count | number }} calls</caption>
    <thead class="govuk-table__head">
        <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="col">Tenancy ref.</th>
            <th class="govuk-table__header" scope="col">Name</th>
            <th class="govuk-table__header" scope="col">Date</th>
            <th class="govuk-table__header" scope="col">Time</th>
            <th class="govuk-table__header" scope="col">Reason for call</th>
        </tr>
    </thead>
    <tbody class="govuk-table__body">
        <tr class="govuk-table__row" *ngFor="let row of calls; trackBy: trackByIndex">
            <th class="govuk-table__header" scope="row">
                <b>{{ row.housingref }}</b>
            </th>
            <td class="govuk-table__cell">{{ row.name }}</td>
            <td class="govuk-table__cell">{{ row.createdon | date: "dd/MM/yyyy" }}</td>
            <td class="govuk-table__cell">{{ row.createdon | date: "HH:mm" }}</td>
            <td class="govuk-table__cell">{{ row.callreason }}</td>
        </tr>
    </tbody>
</table>

<app-error-panel *ngIf="error">
    <p class="govuk-heading-s govuk-!-margin-bottom-0">Could not load the list of previous calls.</p>
</app-error-panel>
