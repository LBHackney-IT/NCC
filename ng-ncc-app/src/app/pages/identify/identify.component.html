<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <!-- Search for contact details. -->
        <h2 class="govuk-heading-m">Search for contact details</h2>

        <!-- Search box - see https://github.com/alphagov/govuk-design-system-backlog/issues/132 -->
        <form action="">
            <div class="panel govuk-!-margin-bottom-5">
                <div class="govuk-form-group govuk-!-margin-bottom-2">
                    <label class="govuk-label govuk-!-font-weight-bold" for="query">
                        Search by postcode:
                    </label>
                    <input class="govuk-input govuk-!-width-one-half" id="query" name="query" type="search" [(ngModel)]="postcode" [disabled]="_searching">
                    <button type="submit" class="govuk-button govuk-!-margin-bottom-0" (click)="performSearch()" [disabled]="!canPerformSearch()">
                        Search
                    </button>
                </div>
            </div>
        </form>

        <!-- Option to mark the caller as anonymous. -->
        <button class="govuk-link-button govuk-!-margin-bottom-0">
            Anonymize
        </button>

        <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">

        <div class="govuk-body govuk-!-margin-bottom-5" *ngIf="no_results">
            No results.
        </div>

        <!-- Found contact information. -->
        <!-- TODO turn this into a component - or a child route! -->
        <ul *ngIf="address_list && ! selected_property_id">
            <li class="box-panel govuk-body govuk-!-margin-bottom-2" *ngFor="let household_id of unique_addresses">
                <a href="" (click)="selectHouseholdID(household_id)">{{ address_list[household_id][0].fullAddressDisplay }}</a>
            </li>
        </ul>

        <!-- Tenant information. -->
        <div class="box-panel govuk-!-margin-bottom-5" *ngIf="selected_property_id">
            <div class="govuk-body" *ngIf="noTenantResults()">
                No results.
            </div>

            <div *ngIf="!noTenantResults()">

                <!-- If we've found contact information... -->
                <h2 class="govuk-heading-m">Identify caller</h2>

                <button type="button" class="govuk-link-button" (click)="backToPostcodeResults()">
                    Back to results
                </button>

                <div class="govuk-grid-row">
                    <div class="govuk-grid-column-one-third">
                        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">ADDRESS</h2>
                        <p class="govuk-body" [innerHtml]="getSelectedPropertyAddress()"></p>
                    </div>
                    <div class="govuk-grid-column-two-thirds">
                        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">DPA</h2>
                        <dl class="value-list value-list--horizontal govuk-body-s">
                            <dt class="value-list__label">Payment reference number</dt>
                            <dd class="value-list__value">...</dd>
                            <dt class="value-list__label">Date of last payment and amount</dt>
                            <dd class="value-list__value">...</dd>
                            <dt class="value-list__label">Amount last paid</dt>
                            <dd class="value-list__value">...</dd>
                            <dt class="value-list__label">Month and year their tenancy began</dt>
                            <dd class="value-list__value">...</dd>
                            <dt class="value-list__label">Preferred payment method</dt>
                            <dd class="value-list__value">...</dd>
                        </dl>
                    </div>
                </div>

                <div class="govuk-radios govuk-radios--inline">
                    <div class="govuk-radios__item" *ngFor="let row of tenant_list">
                        <input class="govuk-radios__input" id="changed-name-1" name="changed-name" type="radio" value="yes">
                        <label class="govuk-label govuk-radios__label govuk-grid-row" for="changed-name-1">

                            <!-- The contact's name. -->
                            <span class="govuk-grid-column-full govuk-!-margin-bottom-5">
                                <span class="govuk-heading-m govuk-!-margin-bottom-1">{{ row.fullName }}</span>
                                <!--<p class="govuk-body-s govuk-!-margin-bottom-0">
                                    <b>Ms J Bell</b> &ndash; <span>Advocate/Secondary contact</span>
                                </p>-->
                            </span>

                            <!-- Contact details. -->
                            <span class="govuk-grid-column-one-half">
                                <span class="govuk-heading-s govuk-!-margin-bottom-2">CONTACT DETAILS</span>
                                <span class="value-list value-list--horizontal govuk-body-s">
                                    <span class="value-list__label">Telephone</span>
                                    <span class="value-list__value">{{ row.telephone1 }}</span>
                                    <!-- <span class="value-list__value">{{ row.telephone2 }}</span>
                                    <span class="value-list__value">{{ row.telephone3 }}</span> -->

                                    <span class="value-list__label">Email</span>
                                    <span class="value-list__value">{{ row.emailAddress }}</span>
                                </span>
                            </span>

                            <!-- DPA. -->
                            <span class="govuk-grid-column-one-half">
                                <span class="govuk-heading-s govuk-!-margin-bottom-2">DPA</span>
                                <span class="value-list value-list--horizontal govuk-body-s">
                                    <span class="value-list__label">NI number</span>
                                    <span class="value-list__value">AB 12 34 56 C</span>

                                    <span class="value-list__label">Date of birth</span>
                                    <span class="value-list__value">09/09/1999</span>
                                </span>
                            </span>

                        </label>
                    </div>
                </div>

            </div>
        </div>

        <!-- Select this information. -->
        <button class="govuk-button govuk-!-margin-bottom-0">Next</button>

    </div>

</div>
